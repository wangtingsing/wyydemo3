webpackJsonp([8],{"/d9T":function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("Dd8w"),a=i.n(e),o=i("Cz8s"),n=i("NYxO"),c=i("oAV5"),r=i("LlOk"),l={name:"player",data:function(){return{playerImg:i("zlaS"),curLength:0,bigflag:!1,toggleIrc:!1,lrcArr:[],currentRow:0}},computed:a()({},Object(n.b)({songname:"songname",songer:"songer",spic:"spic",updateTime:"updateTime",duration:"duration",moveflag:"moveflag",curflag:"curflag",ispause:"ispause",sid:"sid",sindex:"sindex",tracks:"tracks"}),{updateTimeFormate:function(){return Object(c.b)(this.updateTime)},durationFormate:function(){return Object(c.b)(this.duration)}}),watch:{sid:function(){var t=this;Object(r.b)(this.sid).then(function(s){console.log("歌詞"),t.lrcArr=Object(c.a)(s.data.lrc.lyric)}),this.$store.commit("togglefooter",{flag:!1})},updateTime:function(){var t=this;if(1!=this.moveflag){var s=this.$refs.lyricMove;this.curLength=this.updateTime/this.duration*100,this.toggleIrc&&this.lrcArr.forEach(function(i,e){parseInt(t.updateTime)==i.time&&(s.style.top=41*-e+100+"px",t.currentRow=e)})}}},created:function(){var t=this;Object(r.b)(this.sid).then(function(s){t.lrcArr=Object(c.a)(s.data.lrc.lyric)})},mounted:function(){window.scrollTo(0,0)},updated:function(){},components:{anttop:o.a},methods:{togglesong:function(t){this.$store.commit("updateIndex",this.sindex+t)},toggleSongIrc:function(){this.toggleIrc=!this.toggleIrc},touchstart:function(){},goSonglist:function(){this.$router.go(-1),this.$store.commit("togglefooter",{songid:this.sid,flag:!0})},touchmove:function(t){this.$store.commit("setMoveflag",1),this.bigflag=!0;var s=this.$refs.process.offsetLeft,i=this.$refs.process.clientWidth,e=t.touches[0].pageX-s;console.log(e,i),this.curLength=e/i*100,console.log(this.curLength)},touchend:function(t){this.$store.commit("setCurflag",1),this.$store.commit("setMoveflag",0),this.bigflag=!1;var s=this.$store.state.duration*this.curLength/100;console.log("=========结束歌曲的长度========"+s),this.changeTime(s)},changeTime:function(t){this.$store.commit("setChangeTime",t)},togglepause:function(){this.$store.commit("togglePause"),this.playFlag=!this.playFlag}}},u={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"playerdetail"},[i("div",{staticClass:"bc",style:{backgroundImage:"url("+t.spic+")"}}),t._v(" "),i("div",{staticClass:"top-bc"}),t._v(" "),i("div",{staticClass:"play-top"},[i("div",{staticClass:"left",on:{click:t.goSonglist}},[t._m(0)]),t._v(" "),i("div",{staticClass:"center"},[i("div",{staticClass:"songname"},[i("ul",[i("li",[t._v(t._s(t.songname))]),t._v(" "),i("li",[t._v(t._s(t.songname))])])]),t._v(" "),i("div",{staticClass:"songer"},[t._v(t._s(t.songer))])]),t._v(" "),t._m(1)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.toggleIrc,expression:"!toggleIrc"}],staticClass:"playerImg",class:{anmaitionPlay:!t.ispause},style:{backgroundImage:"url("+t.playerImg+")"},on:{click:t.toggleSongIrc}},[i("img",{attrs:{src:t.spic,alt:""}})]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleIrc,expression:"toggleIrc"}],staticClass:"songIrc",on:{click:t.toggleSongIrc}},[i("ul",{ref:"lyricMove"},t._l(t.lrcArr,function(s,e){return i("li",{key:e,class:{highlight:e==t.currentRow}},[t._v(t._s(s.text))])}),0)]),t._v(" "),i("div",{staticClass:"play-footer"},[i("div",{staticClass:"play-process"},[i("div",{staticClass:"update-time"},[t._v(t._s(t.updateTimeFormate))]),t._v(" "),i("div",{ref:"process",staticClass:"process"},[i("span",{staticClass:"curprocess",style:{width:t.curLength+"%"}}),i("span",{staticClass:"dot-time",class:{movebig:t.bigflag},style:{left:t.curLength+"%"},on:{touchstart:t.touchstart,touchmove:t.touchmove,touchend:t.touchend}})]),t._v(" "),i("div",{staticClass:"total-time"},[t._v(t._s(t.durationFormate))])]),t._v(" "),i("div",{staticClass:"pre-next"},[t._m(2),t._v(" "),i("div",{staticClass:"control-play"},[i("span",{on:{click:function(s){return t.togglesong(-1)}}},[i("i",{staticClass:"iconfont icon-shangyishou"})])]),t._v(" "),i("div",{staticClass:"control-play"},[i("span",{on:{click:t.togglepause}},[t.ispause?i("i",{staticClass:"iconfont icon-bofang1"}):i("i",{staticClass:"iconfont icon-bofang_huaban"})])]),t._v(" "),i("div",{staticClass:"control-play"},[i("span",{on:{click:function(s){return t.togglesong(1)}}},[i("i",{staticClass:"iconfont icon-xiayishou"})])]),t._v(" "),t._m(3)])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",[s("i",{staticClass:"iconfont icon-fanhui"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"right"},[s("span",{staticClass:"fenxiang"},[s("i",{staticClass:"iconfont icon-fenxiangdaozhuanfafasongzhiyuanquanxianxing"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"control-play"},[s("span",[s("i",{staticClass:"iconfont icon-liebiaoxunhuan"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"control-play"},[s("span",[s("i",{staticClass:"iconfont icon-liebiao"})])])}]};var g=i("VU/8")(l,u,!1,function(t){i("emNQ")},"data-v-37eed8ec",null);s.default=g.exports},emNQ:function(t,s){}});
//# sourceMappingURL=8.8cf56391e29e2f7ee03c.js.map