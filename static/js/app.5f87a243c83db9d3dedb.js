webpackJsonp([10],{"0RrJ":function(t,e,n){"use strict";e.a=function(t){return i.a.create({baseURL:"http://47.97.118.234:3000/",timeout:6e4})(t)};var o=n("mtWM"),i=n.n(o)},"3xi4":function(t,e){},"6Q9X":function(t,e){},By3R:function(t,e){},LlOk:function(t,e,n){"use strict";e.a=function(){return Object(o.a)({url:"/banner?type=2"})},e.g=function(){return Object(o.a)({url:"/personalized"})},e.d=function(t){var e=window.localStorage.getItem("cookie-wyy");return Object(o.a)({method:"get",url:"/playlist/detail?id="+t+"&cookie="+e})},e.c=function(t){return Object(o.a)({method:"get",url:"/song/url?id="+t})},e.e=function(t){return Object(o.a)({method:"get",url:"/song/detail?ids="+t})},e.h=function(){return Object(o.a)({method:"get",url:"/search/default"})},e.f=function(){return Object(o.a)({method:"get",url:"/search/hot/detail"})},e.b=function(t){return Object(o.a)({method:"get",url:"/lyric?id="+t})},e.i=function(t){return Object(o.a)({method:"get",url:"/search/suggest?keywords="+t})};var o=n("0RrJ")},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),i=n("Dd8w"),s=n.n(i),a=n("NYxO"),c={name:"HelloWorld",data:function(){return{itemindex:1,list:[{name:"mine",cname:"我的",path:"/mine"},{name:"find",cname:"发现",path:"/find"},{name:"country",cname:"云村",path:"/country"},{name:"audio",cname:"视频",path:"/audio"}]}},computed:s()({},Object(a.b)({bcgray:"bcgray"})),methods:{goPage:function(t,e){this.$router.push({path:t.path}),this.itemindex=e}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"head",class:{"bg-gray":t.bcgray}},[t._m(0),t._v(" "),n("div",{staticClass:"item center-list"},[n("ul",t._l(t.list,function(e,o){return n("li",{key:o,class:{"item-active":o===t.itemindex},on:{click:function(n){return t.goPage(e,o)}}},[t._v(t._s(e.cname))])}),0)]),t._v(" "),n("div",{staticClass:"item right-search",on:{click:function(e){return t.$router.push("/search")}}},[t._m(1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item left-list"},[e("span",[e("i",{staticClass:"iconfont icon-liebiao"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"search"},[e("i",{staticClass:"iconfont icon-sousuo"})])}]};var u=n("VU/8")(c,r,!1,function(t){n("By3R")},"data-v-620bdf4c",null).exports,l={name:"song-audio",data:function(){return{}},computed:s()({},Object(a.b)({sindex:"sindex",surl:"surl",ispause:"ispause",updateTime:"updateTime",moveflag:"moveflag",curflag:"curflag",preNext:"preNext"})),created:function(){},mounted:function(){var t=this.$refs.audioitem;this.$store.commit("setCurTime",t.currentTime)},watch:{ispause:function(){var t=this.$refs.audioitem;this.ispause?t.play():t.pause()},curflag:function(){console.log("监听updateTime--------"+this.updateTime);var t=this.$refs.audioitem;t.currentTime=this.updateTime,console.log(t.currentTime),this.$store.commit("setCurflag",0)}},methods:{ended:function(){console.log("jieshu"),this.$store.commit("updateIndex",this.sindex+1)},timeupdate:function(){var t=this.$refs.audioitem;this.$store.commit("setCurTime",t.currentTime)},startPlay:function(){var t=this.$refs.audioitem;this.$store.commit("setDuration",t.duration)}}},d={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"song-audio",attrs:{"data-test":this.ispause}},[e("audio",{ref:"audioitem",attrs:{src:this.surl,controls:"controls",id:"player",autoplay:"autoplay"},on:{timeupdate:this.timeupdate,canplay:this.startPlay,ended:this.ended}})])},staticRenderFns:[]};var p=n("VU/8")(l,d,!1,function(t){n("bTcZ")},null,null).exports,f=n("LlOk"),m={name:"footerplay",data:function(){return{al:"",songitem:"",songer:""}},computed:s()({},Object(a.b)({sid:"sid",surl:"surl",ispause:"ispause"}),{iconimgurl:function(){return this.al.picUrl?this.al.picUrl:n("zlaS")}}),watch:{sid:function(){console.log("sid"),this.getsongmesg(this.sid)}},components:{},created:function(){console.log(this.sid),this.sid&&this.getsongmesg(this.sid)},methods:{getsongmesg:function(t){var e=this;console.log(this.sid),Object(f.c)(t).then(function(t){var n=t.data.data[0].url;console.log("newsurl"),e.$store.commit("newsurl",n)}),Object(f.e)(t).then(function(t){console.log(t.data.songs[0]),e.songitem=t.data.songs[0],e.al=t.data.songs[0].al,e.$store.commit("setSongname",t.data.songs[0].name),e.$store.commit("setSonger",t.data.songs[0].ar[0].name),e.$store.commit("setSpic",e.iconimgurl)})},togglepause:function(){this.$store.commit("togglePause")},playdetail:function(){this.$store.commit("togglefooter",{flag:!1}),this.$router.push({name:"player"})}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer-play"},[n("div",{staticClass:"footer-center"},[n("div",{staticClass:"iconimg"},[n("img",{attrs:{src:t.iconimgurl,alt:""},on:{click:t.playdetail}})]),t._v(" "),n("div",{staticClass:"song-center",on:{click:t.playdetail}},[n("div",{staticClass:"song-name"},[t._v(t._s(t.songitem.name))]),t._v(" "),n("div",{staticClass:"desc"},[t._v("横滑可以切换上下首哦")])]),t._v(" "),n("div",{staticClass:"toggle-play",on:{click:t.togglepause}},[n("span",[t.ispause?n("i",{staticClass:"iconfont icon-bofang1"}):n("i",{staticClass:"iconfont icon-bofang_huaban"})])]),t._v(" "),t._m(0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"song-list"},[e("span",[e("i",{staticClass:"iconfont icon-liebiao"})])])}]};var h={name:"App",data:function(){return{}},components:{topnav:u,footerplay:n("VU/8")(m,g,!1,function(t){n("j9+q")},"data-v-14336942",null).exports,songaudio:p},created:function(){},computed:s()({},Object(a.b)({cached:"cached"})),methods:{}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[this.$store.state.topisshow?this._e():e("topnav"),this._v(" "),e("keep-alive",{attrs:{include:this.cached}},[e("router-view")],1),this._v(" "),e("footerplay",{directives:[{name:"show",rawName:"v-show",value:this.$store.state.isfooterplay,expression:"$store.state.isfooterplay"}],staticClass:"footer-play"}),this._v(" "),e("songaudio")],1)},staticRenderFns:[]};var y=n("VU/8")(h,v,!1,function(t){n("6Q9X")},null,null).exports,b=n("/ocq");o.default.use(b.a);var w=new b.a({routes:[{path:"/",redirect:"/find"},{path:"/mine",name:"IndexMine",component:function(t){n.e(5).then(function(){var e=[n("RHQV")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/find",name:"IndexFind",component:function(t){n.e(2).then(function(){var e=[n("L1Hy")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/player",name:"player",component:function(t){Promise.all([n.e(0),n.e(8)]).then(function(){var e=[n("/d9T")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/login",name:"login",component:function(t){Promise.all([n.e(0),n.e(4)]).then(function(){var e=[n("W2Q3")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/songlist",name:"songlist",component:function(t){Promise.all([n.e(0),n.e(1)]).then(function(){var e=[n("qbM5")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/search",name:"search",component:function(t){Promise.all([n.e(0),n.e(3)]).then(function(){var e=[n("k74z")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/country",name:"IndexCountry",component:function(t){n.e(7).then(function(){var e=[n("M56J")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/audio",name:"IndexAudio",component:function(t){n.e(6).then(function(){var e=[n("GFj7")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]});w.beforeEach(function(t,e,n){var o=t.path;console.log(),"/find"==o||"/mine"==o||"/country"==o||"/audio"==o?w.app.$options.store.commit("toggletopF"):w.app.$options.store.commit("toggletopT"),"/songlist"==o&&w.app.$options.store.commit("iskeepAlive","IndexFind"),"/player"==o&&w.app.$options.store.commit("iskeepAlive","songlist"),"/find"==o&&w.app.$options.store.commit("nokeepAlive","songlist"),n()});var _=w,$=n("mvHQ"),k=n.n($);o.default.use(a.a);var x=new a.a.Store({state:{topisshow:!1,isfooterplay:!1,tracks:[],sid:"",sindex:0,surl:"",ispause:!0,updateTime:0,duration:0,moveflag:0,curflag:0,cached:[],bcgray:!1,isLogin:!1,account:"",profile:"",loginType:"",bindings:"",token:"",cookie:"",preNext:0,songname:"",songer:"",spic:""},getters:{},mutations:{newsurl:function(t,e){console.log,e&&(t.surl=e)},togglePause:function(t){t.ispause=!t.ispause},toggletopT:function(t){t.topisshow=!0},toggletopF:function(t){t.topisshow=!1},togglefooter:function(t,e){t.isfooterplay=e.flag,console.log(t.isfooterplay),t.sid=e.songid||t.sid},updateIndex:function(t,e){t.sindex=e,console.log(t.sindex)},setCurTime:function(t,e){t.updateTime=e},setDuration:function(t,e){t.duration=e},setChangeTime:function(t,e){t.updateTime=e},setMoveflag:function(t,e){t.moveflag=e},setCurflag:function(t,e){t.curflag=e},keepAlive:function(t,e){!t.catchList.includes(e)&&t.catchList.push(e)},setBcgray:function(t){t.bcgray=!t.bcgray},setAccount:function(t,e){window.localStorage.setItem("account-wyy",k()(e)),t.account=e},setProfile:function(t,e){window.localStorage.setItem("profile-wyy",k()(e)),t.profile=e},setLoginType:function(t,e){window.localStorage.setItem("loginType",e),t.loginType=e},setBindings:function(t,e){window.localStorage.setItem("bindings",k()(e)),t.bindings=e},setToken:function(t,e){window.localStorage.setItem("token-wyy",e),t.token=e},setLogin:function(t){t.isLogin=!0},setCookie:function(t,e){window.localStorage.setItem("cookie-wyy",e),t.cookie=e},setTracks:function(t,e){t.tracks=e},setPerNext:function(t,e){t.preNext=e,console.log(t.preNext)},setSongname:function(t,e){t.songname=e},setSonger:function(t,e){t.songer=e},setSpic:function(t,e){t.spic=e},iskeepAlive:function(t,e){!t.cached.includes(e)&&t.cached.push(e),console.log("缓存的组件——————————————"+t.cached)},nokeepAlive:function(t,e){var n=t.cached.indexOf(e);console.log(n),n>-1&&t.cached.splice(n,1)}},actions:{},modules:{}}),C=n("zL8q"),T=n.n(C);n("tvR6"),n("muQq"),n("Qbok"),n("3xi4");o.default.config.productionTip=!1,o.default.use(T.a),new o.default({el:"#app",router:_,store:x,components:{App:y},template:"<App/>"})},Qbok:function(t,e){},bTcZ:function(t,e){},"j9+q":function(t,e){},muQq:function(t,e){},tvR6:function(t,e){},zlaS:function(t,e,n){t.exports=n.p+"static/img/cover-bg-in.aa13f1c.png"}},["NHnr"]);
//# sourceMappingURL=app.5f87a243c83db9d3dedb.js.map